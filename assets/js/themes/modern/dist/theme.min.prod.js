"use strict";!function(){function e(e,t){n(e,[],function(){return t})}var l={},c=function(e){var t=l[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&function(e){for(var t=l[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),a=0;a<o;++a)r[a]=c(n[a]);var s=i.apply(null,r);if(void 0===s)throw"module ["+e+"] returned undefined";t.instance=s}(e),t.instance},n=function(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;l[e]={deps:t,defn:n,instance:void 0}};e("1",tinymce.Env),e("2",tinymce.EditorManager),e("3",tinymce.ThemeManager),e("8",tinymce.util.Tools),e("9",tinymce.ui.Factory),e("a",tinymce.DOM),n("b",["8","9"],function(a,s){function l(n,e,i){var o,r=[];if(e)return a.each(e.split(/[ ,]/),function(t){function e(){var e=n.selection;t.settings.stateSelector&&e.selectorChanged(t.settings.stateSelector,function(e){t.active(e)},!0),t.settings.disabledStateSelector&&e.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e)})}"|"==t?o=null:s.has(t)?(t={type:t,size:i},r.push(t),o=null):(o||(o={type:"buttongroup",items:[]},r.push(o)),n.buttons[t]&&("function"==typeof(t=n.buttons[t])&&(t=t()),t.type=t.type||"button",t.size=i,t=s.create(t),o.items.push(t),n.initialized?e():n.on("init",e)))}),{type:"toolbar",layout:"flow",items:r}}return{createToolbar:l,createToolbars:function(t,n){function e(e){return e&&(i.push(l(t,e,n)),1)}var i=[],o=t.settings;if(a.isArray(o.toolbar)){if(0===o.toolbar.length)return;a.each(o.toolbar,function(e,t){o["toolbar"+(t+1)]=e}),delete o.toolbar}for(var r=1;r<10&&e(o["toolbar"+r]);r++);if(i.length||!1===o.toolbar||e(o.toolbar||"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),i.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:i}}}}),n("c",["8"],function(c){function u(e,t){var n;return"|"==t?{text:"|"}:n=e[t]}var d={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}};return{createMenuButtons:function(e){var t,n=[],i=e.settings,o=[];if(i.menu)for(t in i.menu)o.push(t);else for(t in d)o.push(t);for(var r="string"==typeof i.menubar?i.menubar.split(/[ ,]/):o,a=0;a<r.length;a++){var s=r[a];(s=function(t,e,n){var i,o,r,a,s=c.makeMap((e.removed_menuitems||"").split(/[ ,]/));if(e.menu?(o=e.menu[n],a=!0):o=d[n],o){i={text:o.title},r=[],c.each((o.items||"").split(/[ ,]/),function(e){u(t,e)&&!s[e]&&r.push(u(t,e))}),a||c.each(t,function(e){e.context==n&&("before"==e.separator&&r.push({text:"|"}),e.prependToContext?r.unshift(e):r.push(e),"after"==e.separator&&r.push({text:"|"}))});for(var l=0;l<r.length;l++)"|"==r[l].text&&(0!==l&&l!=r.length-1||r.splice(l,1));if(i.menu=r,!i.menu.length)return null}return i}(e.menuItems,e.settings,s))&&n.push(s)}return n}}}),e("j",tinymce.util.Delay),e("k",tinymce.geom.Rect),n("d",["a","8","j","b","9","k"],function(w,x,l,c,u,C){function a(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}}function k(e,t){e.moveTo(t.left,t.top)}function S(e,t,n,i,o,r){return r=a({x:t,y:n,w:r.w,h:r.h}),e&&(r=e({elementRect:a(i),contentAreaRect:a(o),panelRect:r})),r}return{addContextualToolbars:function(y){function r(){return y.contextToolbars||[]}function n(e,t){var n,i,o,r,a,s,l,c,u,d,f,m,h,b,p,g=v.inline_toolbar_position_handler;if(!y.removed){if(!e||!e.toolbar.panel)return p=y,void x.each(p.contextToolbars,function(e){e.panel&&e.panel.hide()});l=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],a=e.toolbar.panel,t&&a.show(),f=e.element,m=w.getPos(y.getContentAreaContainer()),h=y.dom.getRect(f),"BODY"===(b=y.dom.getRoot()).nodeName&&(h.x-=b.ownerDocument.documentElement.scrollLeft||b.scrollLeft,h.y-=b.ownerDocument.documentElement.scrollTop||b.scrollTop),h.x+=m.x,h.y+=m.y,o=h,i=w.getRect(a.getEl()),r=w.getRect(y.getContentAreaContainer()||y.getBody()),"inline"!==w.getStyle(e.element,"display",!0)&&(o.w=e.element.clientWidth,o.h=e.element.clientHeight),y.inline||(r.w=y.getDoc().documentElement.offsetWidth),y.selection.controlSelection.isResizable(e.element)&&o.w<25&&(o=C.inflate(o,0,8)),n=C.findBestRelativePosition(i,o,r,l),o=C.clamp(o,r),n?(s=C.relativePosition(i,o,n),k(a,S(g,s.x,s.y,o,r,i))):(r.h+=i.h,(o=C.intersect(r,o))?(n=C.findBestRelativePosition(i,o,r,["bc-tc","bl-tl","br-tr"]))?(s=C.relativePosition(i,o,n),k(a,S(g,s.x,s.y,o,r,i))):k(a,S(g,o.x,o.y,o,r,i)):a.hide()),c=a,d=function(e,t){return e===t},u=(u=n)?u.substr(0,2):"",x.each({t:"down",b:"up"},function(e,t){c.classes.toggle("arrow-"+e,d(t,u.substr(0,1)))}),x.each({l:"left",r:"right"},function(e,t){c.classes.toggle("arrow-"+e,d(t,u.substr(1,1)))})}}function i(e){return function(){l.requestAnimationFrame(function(){y.selection&&n(s(y.selection.getNode()),e)})}}function t(e){var t;return e.toolbar.panel?e.toolbar.panel.show():(a||(a=y.selection.getScrollContainer()||y.getWin(),w.bind(a,"scroll",i(!0)),y.on("remove",function(){w.unbind(a,"scroll")})),t=u.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:c.createToolbar(y,e.toolbar.items),oncancel:function(){y.focus()}}),(e.toolbar.panel=t).renderTo(document.body).reflow()),n(e),0}function o(){x.each(r(),function(e){e.panel&&e.panel.hide()})}var a,v=y.settings,s=function(e){for(var t,n=r(),i=y.$(e).parents().add(e),o=i.length-1;0<=o;o--)for(t=n.length-1;0<=t;t--)if(n[t].predicate(i[o]))return{toolbar:n[t],element:i[o]};return null};y.on("click keyup setContent ObjectResized",function(e){"setcontent"===e.type&&!e.selection||l.setEditorTimeout(y,function(){var e=s(y.selection.getNode());e?(o(),t(e)):o()})}),y.on("blur hide contextmenu",o),y.on("ObjectResizeStart",function(){var e=s(y.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.hide()}),y.on("ResizeEditor ResizeWindow",i(!0)),y.on("nodeChange",i(!1)),y.on("remove",function(){x.each(r(),function(e){e.panel&&e.panel.remove()}),y.contextToolbars={}}),y.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var e=s(y.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.items()[0].focus()})}}}),n("e",[],function(){function n(t,n){return function(){var e=t.find(n)[0];e&&e.focus(!0)}}return{addKeys:function(e,t){e.shortcuts.add("Alt+F9","",n(t,"menubar")),e.shortcuts.add("Alt+F10,F10","",n(t,"toolbar")),e.shortcuts.add("Alt+F11","",n(t,"elementpath")),t.on("cancel",function(){e.focus()})}}}),n("f",["8","9","1"],function(m,h,t){function b(e,t,n){var i,o=e.settings[n];o&&o((i=t.getEl("body"),{element:function(){return i}}))}function i(u,d,f){return function(e){var t,n,i,o,r,a=e.control,s=a.parents().filter("panel")[0],l=s.find("#"+d)[0],c=(t=f,n=d,m.grep(t,function(e){return e.name===n})[0]);i=d,o=s,r=f,m.each(r,function(e){var t=o.items().filter("#"+e.name)[0];t&&t.visible()&&e.name!==i&&(b(e,t,"onhide"),t.visible(!1))}),a.parent().items().each(function(e){e.active(!1)}),l&&l.visible()?(b(c,l,"onhide"),l.hide(),a.active(!1)):(l?l.show():(l=h.create({type:"container",name:d,layout:"stack",classes:"sidebar-panel",html:""}),s.prepend(l),b(c,l,"onrender")),b(c,l,"onshow"),a.active(!0)),u.fire("ResizeEditor")}}return{hasSidebar:function(e){return!(t.ie&&!(11<=t.ie)||!e.sidebars)&&0<e.sidebars.length},createSidebar:function(n){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:m.map(n.sidebars,function(e){var t=e.settings;return{type:"button",icon:t.icon,image:t.image,tooltip:t.tooltip,onclick:i(n,e.name,n.sidebars)}})}]}}}}),n("g",[],function(){return{fireSkinLoaded:function(e){function t(){e._skinLoaded=!0,e.fire("SkinLoaded")}return function(){e.initialized?t():e.on("init",t)}}}}),n("6",["a"],function(l){function c(e){return{width:e.clientWidth,height:e.clientHeight}}function o(e,t,n){var i=e.settings,o=e.getContainer(),r=e.getContentAreaContainer().firstChild,a=c(o),s=c(r);null!==t&&(t=Math.max(i.min_width||100,t),t=Math.min(i.max_width||65535,t),l.setStyle(o,"width",t+(a.width-s.width)),l.setStyle(r,"width",t)),n=Math.max(i.min_height||100,n),n=Math.min(i.max_height||65535,n),l.setStyle(r,"height",n),e.fire("ResizeEditor")}return{resizeTo:o,resizeBy:function(e,t,n){var i=e.getContentAreaContainer();o(e,i.clientWidth+t,i.clientHeight+n)}}}),n("4",["8","9","a","b","c","d","e","f","g","6"],function(e,c,u,d,f,m,h,b,p,g){function y(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}}return{render:function(t,e,n){var i,o,r,a,s,l=t.settings;return n.skinUiCss&&u.styleSheetLoader.load(n.skinUiCss,p.fireSkinLoaded(t)),i=e.panel=c.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===l.menubar?null:{type:"menubar",border:"0 0 1 0",items:f.createMenuButtons(t)},d.createToolbars(t,l.toolbar_items_size),b.hasSidebar(t)?(s=t,{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[y("0"),b.createSidebar(s)]}):y("1 0 0 0")]}),!1!==l.resize&&(o={type:"resizehandle",direction:l.resize,onResizeStart:function(){var e=t.getContentAreaContainer().firstChild;r={width:e.clientWidth,height:e.clientHeight}},onResize:function(e){"both"===l.resize?g.resizeTo(t,r.width+e.deltaX,r.height+e.deltaY):g.resizeTo(t,null,r.height+e.deltaY)}}),!1!==l.statusbar&&i.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:t},o]}),t.fire("BeforeRenderUI"),t.on("SwitchMode",(a=i,function(e){a.find("*").disabled("readonly"===e.mode)})),i.renderBefore(n.targetNode).reflow(),l.readonly&&t.setMode("readonly"),l.width&&u.setStyle(i.getEl(),"width",l.width),t.on("remove",function(){i.remove(),i=null}),h.addKeys(t,i),m.addContextualToolbars(t),{iframeContainer:i.find("#iframe")[0].getEl(),editorContainer:i.getEl()}}}}),e("h",tinymce.ui.FloatPanel),n("5",["8","9","a","h","b","c","d","e","g"],function(e,u,d,f,m,h,b,p,g){return{render:function(a,e,t){var s,n,i=a.settings;i.fixed_toolbar_container&&(n=d.select(i.fixed_toolbar_container)[0]);function o(){var e,t,n,i,o,r;s&&s.moveRel&&s.visible()&&!s._fixed&&(e=a.selection.getScrollContainer(),t=a.getBody(),r=o=0,e&&(n=d.getPos(t),i=d.getPos(e),o=Math.max(0,i.x-n.x),r=Math.max(0,i.y-n.y)),s.fixed(!1).moveRel(t,a.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(o,r))}function r(){s&&(s.show(),o(),d.addClass(a.getBody(),"mce-edit-focus"))}function l(){s&&(s.hide(),f.hideAll(),d.removeClass(a.getBody(),"mce-edit-focus"))}function c(){return s?void(s.visible()||r()):(s=e.panel=u.create({type:n?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!n,border:1,items:[!1===i.menubar?null:{type:"menubar",border:"0 0 1 0",items:h.createMenuButtons(a)},m.createToolbars(a,i.toolbar_items_size)]}),a.fire("BeforeRenderUI"),s.renderTo(n||document.body).reflow(),p.addKeys(a,s),r(),b.addContextualToolbars(a),a.on("nodeChange",o),a.on("activate",r),a.on("deactivate",l),void a.nodeChanged())}return i.content_editable=!0,a.on("focus",function(){t.skinUiCss?d.styleSheetLoader.load(t.skinUiCss,c,c):c()}),a.on("blur hide",l),a.on("remove",function(){s&&(s.remove(),s=null)}),t.skinUiCss&&d.styleSheetLoader.load(t.skinUiCss,g.fireSkinLoaded(a)),{}}}}),e("i",tinymce.ui.Throbber),n("7",["i"],function(i){return{setup:function(e,t){var n;e.on("ProgressState",function(e){n=n||new i(t.panel.getEl("body")),e.state?n.show(e.time):n.hide()})}}}),n("0",["1","2","3","4","5","6","7"],function(l,c,e,u,d,n,f){return e.add("modern",function(s){return{renderUI:function(e){return n=this,i=e,r=(t=s).settings,(a=!1!==r.skin&&(r.skin||"lightgray"))&&(o=(o=r.skin_url)?t.documentBaseURI.toAbsolute(o):c.baseURL+"/skins/"+a,l.documentMode<=7?i.skinUiCss=o+"/skin.ie7.min.css":i.skinUiCss=o+"/skin.min.css",t.contentCSS.push(o+"/content"+(t.inline?".inline":"")+".min.css")),f.setup(t,n),r.inline?d.render(t,n,i):u.render(t,n,i);var t,n,i,o,r,a},resizeTo:function(e,t){return n.resizeTo(s,e,t)},resizeBy:function(e,t){return n.resizeBy(s,e,t)}}}),function(){}}),c("0")()}();